(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e,t,n){e.exports=n(393)},393:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(9),i=n.n(r),c=n(39),l=n(71),s=n(75),d=n(72),u=n(76),h=(n(179),n(394)),m=n(395),p=n(107),f=n(42),g=n(377).InfoBox,v=Object(p.a)(Object(p.b)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDu2lXe6b5E55W6iKajZbZ0jB5Im0Byk3M&v=3.exp",loadingElement:a.a.createElement("div",{style:{height:"100%"}}),containerElement:a.a.createElement("div",{style:{height:"100vh"}}),mapElement:a.a.createElement("div",{style:{height:"100%"}})}),f.withScriptjs,f.withGoogleMap)(function(e){return a.a.createElement(f.GoogleMap,{defaultZoom:11,defaultCenter:{lat:37.6555,lng:-122.4}},!e.loading&&a.a.createElement("div",null,a.a.createElement(f.Polyline,{path:e.coords,onClick:e.onLineClick,geodesic:!0,options:{strokeColor:e.color,strokeOpacity:e.isActive?.99:.35,strokeWeight:4.5,zIndex:1}}),a.a.createElement(f.Marker,{position:{lat:e.coords[e.infoIndex].lat,lng:e.coords[e.infoIndex].lng}},a.a.createElement(g,{options:{closeBoxURL:"",enableEventPropagation:!0}},a.a.createElement("div",{style:{backgroundColor:"white",opacity:.75,padding:"5px",width:"150px"}},a.a.createElement("div",{style:{fontSize:"16px",fontColor:"#08233B",textAlign:"center"}},e.infoText))))))}),E=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.coords,n=e.color,o=e.onLineClick,r=e.infoIndex,i=e.infoText,c=e.loading,l=e.isActive;return a.a.createElement(v,{coords:t,onLineClick:o,color:n,infoIndex:r,infoText:i,loading:c,isActive:l})}}]),t}(a.a.PureComponent),x=n(397),b=n(398),y=n(399),M=n(396),k=x.a.Meta,w=function(e){var t=e.loading,n=e.index,o=e.color,r=e.title,i=e.length,c=e.distance,l=e.speed_avg,s=e.onMouseEnter,d=e.onMouseLeave,u=a.a.createElement("span",null,"Trip #",n+1),h=a.a.createElement("div",null,a.a.createElement("p",null,"Total distance: ",a.a.createElement("b",null,c)," miles."),a.a.createElement("p",null,"Average speed: ",a.a.createElement("b",null,l)," mph."));return a.a.createElement(b.a,{placement:"left",title:u,content:h,trigger:"hover"},a.a.createElement(x.a,{style:{width:"100%",margin:"auto"},hoverable:!0,id:n,onMouseEnter:s,onMouseLeave:d},a.a.createElement(y.a,{loading:t,avatar:!0,active:!0},a.a.createElement(k,{avatar:a.a.createElement(M.a,{style:{backgroundColor:o,verticalAlign:"middle",fontSize:10,textShadow:"-1px -1px 0 #444, 1px -1px 0 #444, -1px 1px 0 #444, 1px 1px 0 #444",color:"rgba(255,255,255,0.8)"},size:"large"},n+1),title:r,description:"Lasted for ".concat(i)}))))},j=function e(){Object(c.a)(this,e)};j.colorFromName=function(e){for(var t,n=(Math.floor(15239017*Math.abs((t=e)?t.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0):""))%16777215).toString(16);n.length<6;)n="0"+n;return"#"+n},j.nameFromDate=function(e){return e.substring(0,10)+" "+e.substring(11).replace("-",":")},j.parseDate=function(e){return Date.parse(e.substring(0,10)+" "+e.substring(11).replace("-",":"))},j.lengthFromInterval=function(e,t){var n=j.parseDate(t)-j.parseDate(e),o=Math.floor(n/1e3),a=Math.floor(o/3600);o-=3600*a;var r=Math.floor(o/60);o-=60*r;var i=a>0?"".concat(a," hour").concat(a>1?"s":""):"",c=r>0?"".concat(r," minute").concat(r>1?"s":""):"",l=o>0||0===a&&0===r?"".concat(o," second").concat(r>1?"s":""):"";return i+(r||o?" ":"")+c+(!o||a&&r?"":" ")+(a&&r?"":l)+"."},j.secondsFromInterval=function(e,t){return Math.floor((j.parseDate(t)-j.parseDate(e))/1e3)},j.findByCoords=function(e,t,n){var o=function(e){return e*e},a=function(n){return o(n.lat-e)+o(n.lng-t)};return n.reduce(function(e,t){return a(e)<a(t)?e:t},n[0])};var C=function(e){var t=[],n=e.loading,o=e.color,r=e.onMouseEnter,i=e.onMouseLeave,c=e.data,l=c.start_time,s=c.end_time,d=c.coords,u=(d.length?d[d.length-1].dist:0).toFixed(2),h=j.secondsFromInterval(l,s)/3600,m=(d.length?u/h:0).toFixed(2);return t.push(a.a.createElement(w,{loading:n,index:0,key:0,title:j.nameFromDate(l),color:o,length:j.lengthFromInterval(l,s),distance:u,speed_avg:m,onMouseEnter:r,onMouseLeave:i})),t},L=function(e){return fetch("./assets/data/"+e).then(function(e){if(200===e.status)return e;throw new Error("".concat(e.status," code!"))})},I=2.23694,A=function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={data:{coords:[],start_time:"",end_time:""},loading:!0,color:"",isActive:!1,infoIndex:0,infoText:"Click on the lines"},n.handleLineClick=function(e){var t=e.latLng.lat(),o=e.latLng.lng(),a=j.findByCoords(t,o,n.state.data.coords),r=a.index,i="Speed: ".concat((I*a.speed).toFixed(2)," mph");n.setState({infoIndex:r,infoText:i})},n.cardMouseEnter=function(e){n.setState({isActive:!0})},n.cardMouseLeave=function(e){n.setState({isActive:!1})},n.siderStyle={height:"100vh",overflowY:"scroll"},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;L("2016-07-02--11-56-24.json").then(function(e){return e.json()}).then(function(t){return e.setState({data:t,loading:!1,color:j.colorFromName(t.start_time)}),t}).catch(console.log)}},{key:"render",value:function(){var e=this.state.data.coords,t=this.state,n=t.color,o=t.loading,r=t.infoIndex,i=t.infoText,c=t.isActive;return a.a.createElement(h.a,null,a.a.createElement(m.a,{span:18},a.a.createElement(E,{coords:e,color:n,onLineClick:this.handleLineClick.bind(this),infoIndex:r,infoText:i,loading:o,isActive:c})),a.a.createElement(m.a,{span:6,style:this.siderStyle},a.a.createElement(C,{loading:o,color:n,data:this.state.data,onMouseEnter:this.cardMouseEnter.bind(this),onMouseLeave:this.cardMouseLeave.bind(this)})))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[174,2,1]]]);
//# sourceMappingURL=main.4cdc6777.chunk.js.map