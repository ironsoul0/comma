(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e,t,n){e.exports=n(393)},393:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),i=n.n(r),l=n(39),c=n(71),s=n(75),d=n(72),u=n(76),h=(n(179),n(394)),p=n(395),m=n(107),f=n(42),g=n(377).InfoBox,v=Object(m.a)(Object(m.b)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDu2lXe6b5E55W6iKajZbZ0jB5Im0Byk3M&v=3.exp",loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"100vh"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),f.withScriptjs,f.withGoogleMap)(function(e){return o.a.createElement(f.GoogleMap,{defaultZoom:11,defaultCenter:{lat:37.6555,lng:-122.4}},o.a.createElement(f.Polyline,{path:e.coords,onClick:e.onLineClick,geodesic:!0,options:{strokeColor:e.color,strokeOpacity:.5,strokeWeight:4.5,zIndex:1}}),o.a.createElement(f.Marker,{position:{lat:e.coords[e.infoIndex].lat,lng:e.coords[e.infoIndex].lng}},o.a.createElement(g,{options:{closeBoxURL:"",enableEventPropagation:!0}},o.a.createElement("div",{style:{backgroundColor:"white",opacity:.75,padding:"5px",width:"150px"}},o.a.createElement("div",{style:{fontSize:"16px",fontColor:"#08233B",textAlign:"center"}},e.infoText)))))}),x=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.coords,n=e.color,a=e.onLineClick,r=e.infoIndex,i=e.infoText;return o.a.createElement(v,{coords:t,onLineClick:a,color:n,infoIndex:r,infoText:i})}}]),t}(o.a.PureComponent),E=n(397),b=n(398),y=n(399),k=n(396),w=E.a.Meta,j=function(e){var t=e.loading,n=e.index,a=e.color,r=e.title,i=e.length,l=e.distance,c=e.speed_avg,s=o.a.createElement("span",null,"Trip #",n+1),d=o.a.createElement("div",null,o.a.createElement("p",null,"Total distance: ",o.a.createElement("b",null,l)," miles."),o.a.createElement("p",null,"Average speed: ",o.a.createElement("b",null,c)," mph."));return o.a.createElement(b.a,{placement:"left",title:s,content:d,trigger:"hover"},o.a.createElement(E.a,{style:{width:"100%",margin:"auto"},hoverable:!0},o.a.createElement(y.a,{loading:t,avatar:!0,active:!0},o.a.createElement(w,{avatar:o.a.createElement(k.a,{style:{backgroundColor:a,verticalAlign:"middle",fontSize:10,textShadow:"-1px -1px 0 #444, 1px -1px 0 #444, -1px 1px 0 #444, 1px 1px 0 #444",color:"rgba(255,255,255,0.8)"},size:"large"},n+1),title:r,description:"Lasted for ".concat(i)}))))},C=function e(){Object(l.a)(this,e)};C.colorFromName=function(e){for(var t,n=(Math.floor(15239017*Math.abs((t=e)?t.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0):""))%16777215).toString(16);n.length<6;)n="0"+n;return"#"+n},C.nameFromDate=function(e){return e.substring(0,10)+" "+e.substring(11).replace("-",":")},C.parseDate=function(e){return Date.parse(e.substring(0,10)+" "+e.substring(11).replace("-",":"))},C.lengthFromInterval=function(e,t){var n=C.parseDate(t)-C.parseDate(e),a=Math.floor(n/1e3),o=Math.floor(a/3600);a-=3600*o;var r=Math.floor(a/60);a-=60*r;var i=o>0?"".concat(o," hour").concat(o>1?"s":""):"",l=r>0?"".concat(r," minute").concat(r>1?"s":""):"",c=a>0||0===o&&0===r?"".concat(a," second").concat(r>1?"s":""):"";return i+(r||a?" ":"")+l+(!a||o&&r?"":" ")+(o&&r?"":c)+"."},C.findByCoords=function(e,t,n){var a=function(e){return e*e},o=function(n){return a(n.lat-e)+a(n.lng-t)};return n.reduce(function(e,t){return o(e)<o(t)?e:t},n[0])};var I=function(e){var t=[],n=e.loading,a=e.color,r=e.data,i=r.start_time,l=r.end_time,c=r.coords,s=(c.length?c[c.length-1].dist:0).toFixed(2),d=(c.length?c.map(function(e){return e.speed}).reduce(function(e,t){return e+t},0)/c.length:0).toFixed(2);return t.push(o.a.createElement(j,{loading:n,index:0,key:0,title:C.nameFromDate(i),color:a,length:C.lengthFromInterval(i,l),distance:s,speed_avg:d})),t},O=function(e){return fetch("./assets/data/"+e).then(function(e){if(200===e.status)return e;throw new Error("".concat(e.status," code!"))})},M=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={data:{coords:[],start_time:"",end_time:""},loading:!0,color:"",infoIndex:0,infoText:"Click on the lines"},n.handleLineClick=function(e){var t=e.latLng.lat(),a=e.latLng.lng(),o=C.findByCoords(t,a,n.state.data.coords),r=o.index,i="Speed: ".concat(o.speed.toFixed(2)," mph");n.setState({infoIndex:r,infoText:i})},n.siderStyle={height:"100vh",overflowY:"scroll"},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;O("2016-07-02--11-56-24.json").then(function(e){return e.json()}).then(function(t){return e.setState({data:t,loading:!1,color:C.colorFromName(t.start_time)}),t}).catch(console.log)}},{key:"render",value:function(){var e=this.state.data.coords,t=this.state,n=t.color,a=t.loading,r=t.infoIndex,i=t.infoText;return o.a.createElement(h.a,null,o.a.createElement(p.a,{span:18},o.a.createElement(x,{coords:e,color:n,onLineClick:this.handleLineClick.bind(this),infoIndex:r,infoText:i})),o.a.createElement(p.a,{span:6,style:this.siderStyle},o.a.createElement(I,{loading:a,color:n,data:this.state.data})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[174,2,1]]]);
//# sourceMappingURL=main.041bbbd5.chunk.js.map