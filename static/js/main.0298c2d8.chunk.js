(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e,t,n){e.exports=n(391)},391:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),l=n.n(r),c=n(39),i=n(71),s=n(75),u=n(72),d=n(76),h=(n(179),n(392)),m=n(393),p=n(106),g=n(42),f=Object(p.a)(Object(p.b)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDu2lXe6b5E55W6iKajZbZ0jB5Im0Byk3M&v=3.exp",loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"100vh"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),g.withScriptjs,g.withGoogleMap)(function(e){return o.a.createElement(g.GoogleMap,{defaultZoom:11,defaultCenter:{lat:37.6555,lng:-122.4}},e.isMarkerShown&&o.a.createElement(g.Marker,{position:{lat:37.797,lng:-122.444},onClick:e.onMarkerClick}),o.a.createElement(g.Polyline,{path:e.coords,onClick:e.onLineClick,geodesic:!0,options:{strokeColor:e.color,strokeOpacity:.5,strokeWeight:4.5,zIndex:1}}))}),v=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.coords,n=e.color,a=e.onLineClick;return o.a.createElement(f,{coords:t,onLineClick:a,color:n})}}]),t}(o.a.PureComponent),E=n(395),b=n(396),k=n(397),y=n(394),w=E.a.Meta,j=function(e){var t=e.loading,n=e.index,a=e.color,r=e.title,l=e.length,c=e.distance,i=e.speed_avg,s=o.a.createElement("span",null,"Trip #",n+1),u=o.a.createElement("div",null,o.a.createElement("p",null,"Total distance: ",o.a.createElement("b",null,c)," miles."),o.a.createElement("p",null,"Average speed: ",o.a.createElement("b",null,i)," mph."));return o.a.createElement(b.a,{placement:"left",title:s,content:u,trigger:"hover"},o.a.createElement(E.a,{style:{width:"100%",margin:"auto"},hoverable:!0},o.a.createElement(k.a,{loading:t,avatar:!0,active:!0},o.a.createElement(w,{avatar:o.a.createElement(y.a,{style:{backgroundColor:a,verticalAlign:"middle",fontSize:10,textShadow:"-1px -1px 0 #444, 1px -1px 0 #444, -1px 1px 0 #444, 1px 1px 0 #444",color:"rgba(255,255,255,0.8)"},size:"large"},n+1),title:r,description:"Lasted for ".concat(l)}))))},C=function e(){Object(c.a)(this,e)};C.colorFromName=function(e){for(var t,n=(Math.floor(15239017*Math.abs((t=e)?t.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0):""))%16777215).toString(16);n.length<6;)n="0"+n;return"#"+n},C.nameFromDate=function(e){return e.substring(0,10)+" "+e.substring(11).replace("-",":")},C.parseDate=function(e){return Date.parse(e.substring(0,10)+" "+e.substring(11).replace("-",":"))},C.lengthFromInterval=function(e,t){var n=C.parseDate(t)-C.parseDate(e),a=Math.floor(n/1e3),o=Math.floor(a/3600);a-=3600*o;var r=Math.floor(a/60);a-=60*r;var l=o>0?"".concat(o," hour").concat(o>1?"s":""):"",c=r>0?"".concat(r," minute").concat(r>1?"s":""):"",i=a>0||0===o&&0===r?"".concat(a," second").concat(r>1?"s":""):"";return l+(r||a?" ":"")+c+(!a||o&&r?"":" ")+(o&&r?"":i)+"."},C.findByCoords=function(e,t,n){var a=function(e){return e*e},o=function(n){return a(n.lat-e)+a(n.lng-t)};return n.reduce(function(e,t){return o(e)<o(t)?e:t},n[0])};var x=function(e){var t=[],n=e.loading,a=e.color,r=e.data,l=r.start_time,c=r.end_time,i=r.coords,s=(i.length?i[i.length-1].dist:0).toFixed(2),u=(i.length?i.map(function(e){return e.speed}).reduce(function(e,t){return e+t},0)/i.length:0).toFixed(2);return t.push(o.a.createElement(j,{loading:n,index:0,key:0,title:C.nameFromDate(l),color:a,length:C.lengthFromInterval(l,c),distance:s,speed_avg:u})),t},M=function(e){return fetch("./assets/data/"+e).then(function(e){if(200===e.status)return e;throw new Error("".concat(e.status," code!"))})},O=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={data:{coords:[],start_time:"",end_time:""},loading:!0,color:""},n.handleLineClick=function(e){var t=e.latLng.lat(),a=e.latLng.lng(),o=C.findByCoords(t,a,n.state.data.coords);console.log(o)},n.siderStyle={height:"100vh",overflowY:"scroll"},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;M("2016-07-02--11-56-24.json").then(function(e){return e.json()}).then(function(t){return e.setState({data:t,loading:!1,color:C.colorFromName(t.start_time)}),t}).catch(console.log)}},{key:"render",value:function(){var e=this.state.data.coords,t=this.state,n=t.color,a=t.loading;return o.a.createElement(h.a,null,o.a.createElement(m.a,{span:18},o.a.createElement(v,{coords:e,color:n,onLineClick:this.handleLineClick.bind(this)})),o.a.createElement(m.a,{span:6,style:this.siderStyle},o.a.createElement(x,{loading:a,color:n,data:this.state.data})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[174,2,1]]]);
//# sourceMappingURL=main.0298c2d8.chunk.js.map